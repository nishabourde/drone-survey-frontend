<h2>Drone Missions</h2>

<form (submit)="onSubmit($event)">
  <input type="text" placeholder="Mission Name" [(ngModel)]="mission.name" name="name" required />
  <input type="text" placeholder="Status" [(ngModel)]="mission.status" name="status" required />
  <input type="text" placeholder="Location" [(ngModel)]="mission.location" name="location" required />
  <input type="date" [(ngModel)]="mission.date" name="date" required />
  
  <button type="submit">{{ mission._id ? 'Update Mission' : 'Create Mission' }}</button>
</form>

<table mat-table [dataSource]="missions" class="mat-elevation-z8">
  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef> Mission Name </th>
    <td mat-cell *matCellDef="let mission"> {{ mission.name }} </td>
  </ng-container>

  <ng-container matColumnDef="location">
    <th mat-header-cell *matHeaderCellDef> Location </th>
    <td mat-cell *matCellDef="let mission"> {{ mission.location }} </td>
  </ng-container>

  <ng-container matColumnDef="status">
    <th mat-header-cell *matHeaderCellDef> Status </th>
    <td mat-cell *matCellDef="let mission"> {{ mission.status }} </td>
  </ng-container>

  <ng-container matColumnDef="progress">
    <th mat-header-cell *matHeaderCellDef> Progress </th>
    <td mat-cell *matCellDef="let mission"> {{ mission.progress }}% </td>
  </ng-container>

  <ng-container matColumnDef="actions">
    <th mat-header-cell *matHeaderCellDef> Actions </th>
    <td mat-cell *matCellDef="let mission">
      <button (click)="editMission(mission)">Edit</button>
      <button (click)="deleteMission(mission._id)">Delete</button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="['name', 'location', 'status', 'progress', 'actions']"></tr>
  <tr mat-row *matRowDef="let row; columns: ['name', 'location', 'status', 'progress', 'actions'];"></tr>
</table>
